name: "Dozzle"
version: "0.1.36"
slug: "dozzle"
description: "An add-on to view Docker logs for Home Assistant"
url: "https://github.com/Erreur32/homeassistant-dozzle-addon"
arch: ["amd64"]
panel_icon: "mdi:docker"
startup: "services"
boot: "auto"
host_network: true
init: false
watchdog: "http://[HOST]:8099"
ingress: true
ingress_port: 8099
ingress_entry: "/"

# Options for the add-on
options:
  port: 8099
  log_level: "info"
  auto_update: false

# Schema for the add-on options
schema:
  port: "port"
  log_level: "list(trace|debug|info|notice|warning|error|fatal)"
  auto_update: "bool"

# Docker configuration
privileged:
  - "SYS_ADMIN"
  - "DAC_READ_SEARCH"
  - "NET_ADMIN"

hassio_api: true
hassio_role: "default"
docker_api: true

# File system mapping
map:
  - "config:rw"
  - "addons:rw"
  - "ssl:rw"
  - "share:rw"
  - "backup:rw"
  - "media:rw"
  - "docker_socket:rw"

# Device access
devices:
  - "/dev/log"
  - "/dev/kmsg"
  - "/var/run/docker.sock"

environment:
  DOZZLE_BASE: "/"
  DOZZLE_NO_ANALYTICS: "true"
  DOZZLE_ADDR: "0.0.0.0:{{ port }}"
